LTE物理层码字、层、天线端口理解 (2012-12-14 16:04:06)转载

首先，用户面数据以及信令消息在到物理层由空口发送出去前，需要经过PDCP\RLC\MAC层的处理，在物理层处理的数据，实际上是MAC层的PDU，而在物理层看来MAC层的PDU是连续的数据流，通常理解为传输块。
物理层如何处理传输块？首先就是把传输块转换成码字。因不同的传输数据类型，在把传输块转换成码字的过程复杂度也不一样，基本过程如下。
第一步，添加24bit校验比特到传输块。
第二步，把添加了校验比特的传输进行分段，分段后的数据称为码块；码块的大小在40～6144bit之间，如果传输块太小，需填补额外bit到40.如果传输块过大，需要对其进行分割，满足码块要求。
第三步，对码块进行编码。如果传输内容为分组数据，则采用turbo编码，如果是广播或控制信息则此用卷积编码。
最后，对已经编码的码块进行重组，形成一个单独的码字。
总的来说，码字实际上就是增加了错误校验比特的传输块。终端可以被配置接收一个或两个传输块（也就是一个或两个码字）。
层又如何理解呢？
在形成码字后，物理层对每一个码字进行调制。
第一步，对每一个码字内容进行加扰。过程就是使用基于终端的C-RNT和PCI产生的序列进行加扰。
第二步，使用QPSK\16QAM\64QAM对加扰的数据序列进行调制，变成调整符号
第三步，根据使用特定的发送模式，再把调制后的符号分配到一层或几层上。层与天线配置数、RS信号相关。
天线端口
下一步就是对调制后的符号进行预编码，并映射到无线资源块上。简单的说就是把预编码后的符号指定到每一个天线端口上，而天线端口，即根据RS配置对应的无线资源。最后把无线资源生成时域-频域的OFDM信号。
总的说来，物理层码字、层、天线端口关系应该是。一个传输块->一个码字->一或两层->一个或多个天线端口。